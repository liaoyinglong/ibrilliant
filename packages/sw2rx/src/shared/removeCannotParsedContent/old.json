{
    "openapi": "3.0.1",
    "info": {
        "title": "Hopex News Doc",
        "description": "资讯API",
        "termsOfService": "https://news.hopex.com",
        "contact": {
            "name": "liuyu",
            "email": "yu.liu@jentotech.com"
        },
        "version": "v1"
    },
    "paths": {
        "/api/v1/news": {
            "get": {
                "tags": [
                    "NewApi"
                ],
                "summary": "获取资讯",
                "parameters": [
                    {
                        "name": "Timestamp",
                        "in": "query",
                        "description": "返回小于指定时间戳的数据，不传或者传0 查最新的资讯",
                        "schema": {
                            "type": "integer",
                            "description": "返回小于指定时间戳的数据，不传或者传0 查最新的资讯",
                            "format": "int64",
                            "nullable": true
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "default": 20
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Hopex.Infrastructure.Models.ApiResponseModel`1[[System.Collections.Generic.IEnumerable`1[[Hopex.News.ViewModels.NewsViewModel, Hopex.News, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/news/UnreadNum": {
            "get": {
                "tags": [
                    "NewApi"
                ],
                "summary": "获取未读资讯数量",
                "parameters": [
                    {
                        "name": "timestamp",
                        "in": "query",
                        "description": "时间戳-秒",
                        "schema": {
                            "type": "integer",
                            "description": "时间戳-秒",
                            "format": "int64"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Hopex.Infrastructure.Models.ApiResponseModel`1[[System.Int64, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "Hopex.News.ViewModels.NewsViewModel": {
                "type": "object",
                "properties": {
                    "newsId": {
                        "type": "integer",
                        "description": "ID",
                        "format": "int64"
                    },
                    "time": {
                        "type": "integer",
                        "description": "发布时间（时间戳-秒）",
                        "format": "int64"
                    },
                    "source": {
                        "type": "string",
                        "description": "资讯来源",
                        "nullable": true
                    },
                    "rank": {
                        "type": "integer",
                        "description": "级别，0，1 ，1表示重要，前端红色展示",
                        "format": "int32"
                    },
                    "title": {
                        "type": "string",
                        "description": "标题",
                        "nullable": true
                    },
                    "content": {
                        "type": "string",
                        "description": "内容",
                        "nullable": true
                    },
                    "link": {
                        "type": "string",
                        "description": "链接-如果有",
                        "nullable": true
                    },
                    "linkTitle": {
                        "type": "string",
                        "description": "链接标题",
                        "nullable": true
                    }
                },
                "additionalProperties": false
            },
            "Hopex.Infrastructure.Models.ApiResponseModel`1[[System.Collections.Generic.IEnumerable`1[[Hopex.News.ViewModels.NewsViewModel, Hopex.News, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]": {
                "type": "object",
                "properties": {
                    "ret": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "errCode": {
                        "type": "string",
                        "nullable": true
                    },
                    "errStr": {
                        "type": "string",
                        "nullable": true
                    },
                    "env": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "timestamp": {
                        "type": "integer",
                        "format": "int64"
                    },
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Hopex.News.ViewModels.NewsViewModel"
                        },
                        "nullable": true
                    }
                },
                "additionalProperties": false
            },
            "Hopex.Infrastructure.Models.ApiResponseModel`1[[System.Int64, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]": {
                "type": "object",
                "properties": {
                    "ret": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "errCode": {
                        "type": "string",
                        "nullable": true
                    },
                    "errStr": {
                        "type": "string",
                        "nullable": true
                    },
                    "env": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "timestamp": {
                        "type": "integer",
                        "format": "int64"
                    },
                    "data": {
                        "type": "integer",
                        "format": "int64"
                    }
                },
                "additionalProperties": false
            }
        },
        "securitySchemes": {
            "Token": {
                "type": "apiKey",
                "description": "acess token",
                "name": "Authorization",
                "in": "header"
            }
        }
    },
    "security": [
        {
            "Token": []
        }
    ]
}